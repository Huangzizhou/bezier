#pragma once

#define CONCATENATE(a1, a2) a1##_##a2
#define CONCATENATE2(a1, a2) CONCATENATE(a1, a2)
#define CONCATENATE3(a1, a2, a3) CONCATENATE2(CONCATENATE2(a1, a2), a3)
#define CONCATENATE4(a1, a2, a3, a4) CONCATENATE2(CONCATENATE3(a1, a2, a3), a4)
#define CONCATENATE5(a1, a2, a3, a4, a5) CONCATENATE2(CONCATENATE4(a1, a2, a3, a4), a5)

#define GET_MACRO(_1,_2,_3,_4,_5,NAME,...) NAME
#define SUBSCRIPT(...) GET_MACRO(__VA_ARGS__, \
	CONCATENATE5, CONCATENATE4, CONCATENATE3, CONCATENATE2)(__VA_ARGS__)